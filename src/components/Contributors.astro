---
import contributorsData from '../data/contributors.json';

interface Contributor {
  id: number;
  login: string;
  contributions?: number;
}

// Maximum number of contributors to display (set to 0 for all)
const MAX_DISPLAY = 0;

const allContributors = contributorsData as Contributor[];
const contributors = MAX_DISPLAY > 0 ? allContributors.slice(0, MAX_DISPLAY) : allContributors;
---

{contributors.length > 0 && (
  <section class="contributors-section">
    <h4>Contributors</h4>
    <ul class="avatar-list">
      {contributors.map((contributor) => (
        <li>
          <a
            href={`https://github.com/${contributor.login}`}
            target="_blank"
            rel="noopener noreferrer"
            title={contributor.login}
          >
            <img
              src={`https://avatars.githubusercontent.com/u/${contributor.id}?s=64`}
              alt={contributor.login}
              width="32"
              height="32"
              loading="lazy"
            />
          </a>
        </li>
      ))}
    </ul>
  </section>
)}

<style>
  .contributors-section {
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .contributors-section h4 {
    font-family: 'Fira Code', monospace;
    font-size: 0.9rem;
    color: var(--accent);
    margin: 0 0 1rem 0;
    font-weight: normal;
  }

  .contributors-section h4::before {
    content: '> ';
    opacity: 0.7;
  }
</style>
